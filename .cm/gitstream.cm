manifest:
  version: 1.0

on:
  - comment_added
  - pr_created

automations:
  skip_github_action_checks_for_urgent_prs:
    if:
       - {{ is.requested or is.label }}
    run:
      - action: add-github-check@v1
        args:
          check_name: staging-ci
          conclusion: skipped
is:
  requested: {{ pr.comments | match(attr='content', term='/gitstream urgent') | some }}
  label: {{ pr.labels | match(term='urgent') | nope }}
