# -*- mode: yaml -*-
manifest:
  version: 1.0

automations:

  {% for item in feature_flags %}
  review_deprecated_component_{{ item.old }}:
    if:
      - {{ source.diff.files | matchDiffLines(regex=item.regex) | some }}
    run:
      - action: add-label@v1
        args:
          label: 'deprecated-component'
          color: '#FF0000'
  {% endfor %}

feature_flags:
  - name: r/oldAPI/
    old: oldAPI
    new: newAPI
  - regex: r/anotherOldAPI/
    old: anotherOldAPI
    new: anotherNewAPI
